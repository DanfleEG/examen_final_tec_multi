"0","# Set seed para reproducibilidad"
"0","set.seed(123)"
"0",""
"0","# Número de observaciones"
"0","n <- 500"
"0",""
"0","# Simulación de variables"
"0","datos <- data.frame("
"0","  # ID del niño"
"0","  id = 1:n,"
"0","  "
"0","  # Variables del niño"
"0","  edad_meses = round(runif(n, 24, 60)),"
"0","  sexo = sample(c(""femenino"", ""masculino""), n, replace = TRUE, prob = c(0.48, 0.52)),"
"0","  peso_nacimiento = round(runif(n, 2.0, 4.5), 1),"
"0","  "
"0","  # Variables maternas"
"0","  edad_madre = round(runif(n, 18, 45)),"
"0","  educacion_madre = sample(c(""primaria"", ""secundaria"", ""superior""), n, "
"0","                          replace = TRUE, prob = c(0.4, 0.45, 0.15)),"
"0","  imc_madre = round(runif(n, 18, 35), 1),"
"0","  "
"0","  # Variables socioeconómicas"
"0","  ingreso_familiar = round(runif(n, 200, 1200)),"
"0","  zona = sample(c(""urbana"", ""rural""), n, replace = TRUE, prob = c(0.6, 0.4)),"
"0","  "
"0","  # Variables de alimentación"
"0","  lactancia_materna = round(runif(n, 0, 24)),"
"0","  dietas_solidos = sample(c(""si"", ""no""), n, replace = TRUE, prob = c(0.3, 0.7))"
"0",")"
"0",""
"0","# Simular la variable dependiente con relaciones lógicas"
"0","# Crear puntajes latentes para cada categoría"
"0","prob_bajo <- with(datos, "
"0","                  plogis(-1.5 + 0.02*(edad_meses) - 0.3*(peso_nacimiento - 3.2) +"
"0","                         0.05*(edad_madre - 30) - 0.001*ingreso_familiar +"
"0","                         ifelse(zona == ""rural"", 0.5, 0)))"
"0",""
"0","prob_sobre <- with(datos, "
"0","                   plogis(-2.0 + 0.01*(edad_meses) + 0.2*(peso_nacimiento - 3.2) +"
"0","                          0.02*(imc_madre - 25) - 0.01*lactancia_materna +"
"0","                          ifelse(educacion_madre == ""superior"", -0.5, "
"0","                                 ifelse(educacion_madre == ""secundaria"", -0.2, 0))))"
"0",""
"0","# Asignar categorías"
"0","datos$estado_nutricional <- sapply(1:n, function(i) {"
"0","  probs <- c(prob_bajo[i], 1 - prob_bajo[i] - prob_sobre[i], prob_sobre[i])"
"0","  # Asegurar probabilidades válidas"
"0","  probs <- pmax(pmin(probs, 0.9), 0.05)"
"0","  probs <- probs / sum(probs)"
"0","  sample(c(""bajo_peso"", ""normal"", ""sobrepeso""), 1, prob = probs)"
"0","})"
"0",""
"0","# Convertir a factor con orden lógico"
"0","datos$estado_nutricional <- factor(datos$estado_nutricional,"
"0","                                   levels = c(""bajo_peso"", ""normal"", ""sobrepeso""))"
"0",""
"0","# Convertir otras variables categóricas a factor"
"0","datos$sexo <- factor(datos$sexo)"
"0","datos$educacion_madre <- factor(datos$educacion_madre, "
"0","                                levels = c(""primaria"", ""secundaria"", ""superior""))"
"0","datos$zona <- factor(datos$zona)"
"0","datos$dietas_solidos <- factor(datos$dietas_solidos)"
"0",""
"0","# Reordenar columnas"
"0","datos <- datos[, c(""id"", ""estado_nutricional"", ""edad_meses"", ""sexo"", ""peso_nacimiento"","
"0","                   ""edad_madre"", ""educacion_madre"", ""imc_madre"", ""ingreso_familiar"","
"0","                   ""zona"", ""lactancia_materna"", ""dietas_solidos"")]"
"0",""
"0","# Ver estructura de los datos"
"0","str(datos)"
"1","'data.frame':	"
"1",""
"1","500"
"1",""
"1"," obs. of  "
"1",""
"1","12"
"1",""
"1"," variable"
"1",""
"1","s"
"1",""
"1",":"
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","id                "
"1",""
"1",":"
"1"," int  "
"1",""
"1","1 2 3 4 5 6 7 8 9 10"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","estado_nutricional"
"1",""
"1",":"
"1"," Factor w/ 3 levels ""bajo_peso"",""normal"",..: "
"1",""
"1","2 3 1 2 2 2 2 2 1 2"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","edad_meses        "
"1",""
"1",":"
"1"," num  "
"1",""
"1","34 52 39 56 58 26 43 56 44 40"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","sexo              "
"1",""
"1",":"
"1"," Factor w/ 2 levels ""femenino"",""masculino"": "
"1",""
"1","2 2 2 2 2 2 1 2 1 2"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","peso_nacimiento   "
"1",""
"1",":"
"1"," num  "
"1",""
"1","2.7 3.5 2.4 4.1 4.1 3.2 3.9 2.7 2.2 3.1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","edad_madre        "
"1",""
"1",":"
"1"," num  "
"1",""
"1","43 45 30 24 37 33 34 30 30 34"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","educacion_madre   "
"1",""
"1",":"
"1"," Factor w/ 3 levels ""primaria"",""secundaria"",..: "
"1",""
"1","2 2 2 1 1 1 2 2 2 2"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","imc_madre         "
"1",""
"1",":"
"1"," num  "
"1",""
"1","32.5 29.3 30.5 23.4 29.4 25.9 29.1 31.4 33.3 27"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","ingreso_familiar  "
"1",""
"1",":"
"1"," num  "
"1",""
"1","406 1143 579 826 384"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","zona              "
"1",""
"1",":"
"1"," Factor w/ 2 levels ""rural"",""urbana"": "
"1",""
"1","2 2 1 2 2 2 2 2 1 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","lactancia_materna "
"1",""
"1",":"
"1"," num  "
"1",""
"1","7 20 14 19 7 3 21 0 14 23"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","dietas_solidos    "
"1",""
"1",":"
"1"," Factor w/ 2 levels ""no"",""si"": "
"1",""
"1","1 1 1 1 1 1 1 1 2 2"
"1",""
"1"," ..."
"1",""
"1","
"
"0","summary(datos)"
"1",""
"1","       id       "
"1"," estado_nutricional"
"1","   edad_meses   "
"1","        sexo    "
"1","
"
"1"," Min.   :  1.0  "
"1"," bajo_peso:150     "
"1"," Min.   :24.00  "
"1"," femenino :248  "
"1","
"
"1"," 1st Qu.:125.8  "
"1"," normal   :290     "
"1"," 1st Qu.:33.00  "
"1"," masculino:252  "
"1","
"
"1"," Median :250.5  "
"1"," sobrepeso: 60     "
"1"," Median :41.00  "
"1","                "
"1","
"
"1"," Mean   :250.5  "
"1","                   "
"1"," Mean   :41.83  "
"1","                "
"1","
"
"1"," 3rd Qu.:375.2  "
"1","                   "
"1"," 3rd Qu.:50.00  "
"1","                "
"1","
"
"1"," Max.   :500.0  "
"1","                   "
"1"," Max.   :60.00  "
"1","                "
"1","
"
"1",""
"1"," peso_nacimiento"
"1","   edad_madre   "
"1","   educacion_madre"
"1","   imc_madre    "
"1","
"
"1"," Min.   :2.000  "
"1"," Min.   :18.00  "
"1"," primaria  :192   "
"1"," Min.   :18.10  "
"1","
"
"1"," 1st Qu.:2.600  "
"1"," 1st Qu.:25.00  "
"1"," secundaria:232   "
"1"," 1st Qu.:22.27  "
"1","
"
"1"," Median :3.200  "
"1"," Median :31.00  "
"1"," superior  : 76   "
"1"," Median :26.60  "
"1","
"
"1"," Mean   :3.235  "
"1"," Mean   :31.57  "
"1","                  "
"1"," Mean   :26.61  "
"1","
"
"1"," 3rd Qu.:3.800  "
"1"," 3rd Qu.:38.00  "
"1","                  "
"1"," 3rd Qu.:30.90  "
"1","
"
"1"," Max.   :4.500  "
"1"," Max.   :45.00  "
"1","                  "
"1"," Max.   :35.00  "
"1","
"
"1",""
"1"," ingreso_familiar"
"1","     zona    "
"1"," lactancia_materna"
"1"," dietas_solidos"
"1","
"
"1"," Min.   : 201.0  "
"1"," rural :206  "
"1"," Min.   : 0.00    "
"1"," no:358        "
"1","
"
"1"," 1st Qu.: 450.8  "
"1"," urbana:294  "
"1"," 1st Qu.: 6.00    "
"1"," si:142        "
"1","
"
"1"," Median : 704.0  "
"1","             "
"1"," Median :12.00    "
"1","               "
"1","
"
"1"," Mean   : 700.7  "
"1","             "
"1"," Mean   :11.77    "
"1","               "
"1","
"
"1"," 3rd Qu.: 953.8  "
"1","             "
"1"," 3rd Qu.:17.00    "
"1","               "
"1","
"
"1"," Max.   :1199.0  "
"1","             "
"1"," Max.   :24.00    "
"1","               "
"1","
"
"0","head(datos)"
